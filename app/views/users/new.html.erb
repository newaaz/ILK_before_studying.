<% provide(:title, 'Регистрация') %>

<div class="row justify-content-center mt-4">
  <%= link_to image_tag('logo_large.png', class:'mx-auto d-block'), root_path %>
</div>

<h1 class="h3 mt-4 mb-4 font-weight-normal text-center">Регистрация</h1>

<%= form_with(model: @user, local: true) do |f| %>
<%= render 'shared/error_messages', object: f.object %>
<div class="row justify-content-center">
  <div class="col-md-4">  
  
    <div class="form-group">
      <%= f.label :email %>
      <%= f.email_field :email, class:"form-control", autofocus: true %>
    </div>
    <div class="form-group">
      <%= f.label :password %>
      <%= f.password_field :password, class:"form-control" %>
      <small class="form-text text-muted text-center">Используйте пароль не меньше шести символов</small>
    </div>
    <div class="form-group">
        <%= f.label :password_confirmation, "Подтверждение пароля" %>
        <%= f.password_field :password_confirmation, class:"form-control" %>
    </div>
    <div class="checkbox mb-3 text-center">
        <small>
          <input type="checkbox" id="politics" onclick="check();" value="" autocomplete="off" required>
          Я даю <a href="ссылка на страницу согласия">согласие на обработку персональных данных.</a>
        </small>
    </div>
    <%= f.submit "Зарегистрироваться",class:"btn btn-primary btn-block", disabled:""%>  
  </div>
</div>
<% end %>
<script>
  function check() {
    var submit = document.getElementsByName('commit')[0];
    if (document.getElementById('politics').checked)
      submit.disabled = '';
    else
      submit.disabled = 'disabled';
  }
</script>
